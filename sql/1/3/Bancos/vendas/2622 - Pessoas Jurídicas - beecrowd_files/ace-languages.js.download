var editor;var range;$(document).ready(function(){if($('#editor').length||$('#block-editor').length){configureEditor();}
if($('#code').length){configureCode();}
if($('.samples').length){configureFAQs();}
if($('.list-answers').length){configureAnswers();}
if($('.marked').length){configureForum();}});function configureFAQs()
{$('.samples pre').each(function(){var language=$(this).attr('class').split('-')[1];var editor=ace.edit(this);if(language!=undefined){editor.getSession().setMode('ace/mode/'+language);}else{editor.getSession().setMode('ace/mode/c_cpp');}
editor.setTheme('ace/theme/urionlinejudge');editor.setOption('maxLines',30);editor.setReadOnly(true);});}
function configureForum()
{$('.source-code-forum').each(function(index){var languageID=$('.source-code-forum pre').attr('class');editor=ace.edit(this);editor.getSession().setMode('ace/mode/'+languageID);editor.setTheme('ace/theme/urionlinejudge');editor.setReadOnly(true);editor.setOptions({maxLines:30});});}
function configureAnswers()
{accepted=ace.edit('answer-acc');accepted.getSession().setMode('ace/mode/mode-plain_text');accepted.setTheme('ace/theme/urionlinejudge');accepted.setReadOnly(true);presentationError=ace.edit('answer-pe');presentationError.getSession().setMode('ace/mode/mode-plain_text');presentationError.setTheme('ace/theme/urionlinejudge');presentationError.setReadOnly(true);possibleRuntimeError=ace.edit('answer-pre');possibleRuntimeError.getSession().setMode('ace/mode/java');possibleRuntimeError.setTheme('ace/theme/urionlinejudge');possibleRuntimeError.setReadOnly(true);}
function configureCode()
{editor=ace.edit('code');range=ace.require('ace/range').Range;var languageID=parseInt($('#code').attr('class').split(' ')[0].split('-')[1]);switch(languageID){case 1:case 2:case 14:case 16:mode='c_cpp';break;case 3:case 11:case 21:mode='java';break;case 4:case 5:case 20:case 35:mode='python';break;case 6:case 27:mode='ruby';break;case 7:mode='csharp';break;case 8:mode='scala';break;case 9:case 29:mode='lua';break;case 10:case 30:mode='javascript';break;case 12:mode='golang';break;case 13:mode='sql';break;case 15:mode='java';break;case 22:mode='dart';break;case 23:mode='r';break;case 24:mode='php';break;case 25:mode='swift';break;case 26:mode='clojure';break;case 31:mode='rust';break;default:mode='c_cpp';break;}
editor.setTheme('ace/theme/urionlinejudge');editor.getSession().setMode('ace/mode/'+mode);editor.setOptions({maxLines:Infinity});editor.setReadOnly(true);annotations=[];for(var i=0;i<highlight.length;i++){if(answer_id==2){editor.session.addMarker(new range(highlight[i]-1,0,highlight[i]-1,1000),"code-compilation","fullLine");annotations.push({row:highlight[i]-1,text:messages[highlight[i]],type:"error"});continue;}
if(answer_id==3){editor.session.addMarker(new range(highlight[i]-1,0,highlight[i]-1,1000),"code-compilation","fullLine");annotations.push({row:highlight[i]-1,text:messages[highlight[i]],type:"error"});continue;}}
editor.getSession().setAnnotations(annotations);$('#code').fadeTo("slow",1);}
function configureEditor()
{if($('#block-editor').length){editor=ace.edit('block-editor');}else{editor=ace.edit('editor');}
editor.setTheme('ace/theme/urionlinejudge');$('#source-code').hide();if($('#block-editor').length){$('#block-editor').show();}else{$('#editor').show();}
editor.getSession().setValue($('#source-code').val());$('#language-id').change(changeSample);$('input[type=submit]').on('click',function(){$('#source-code').val(editor.getSession().getValue());});editor.setOptions({enableBasicAutocompletion:true,enableSnippets:true});changeSample();}
currentTemplate='';function changeSample(id)
{var languageID;if(typeof(id)=='number'){languageID=id;}else{languageID=parseInt($('#language-id').val());}
var mode,sample,line;switch(languageID){case 1:case 14:mode='c_cpp';sample='c.sample';line=10;break;case 2:case 16:mode='c_cpp';sample='cpp.sample';line=12;break;case 3:case 11:case 21:mode='java';sample='java.sample';line=12;break;case 4:case 5:case 20:case 35:mode='python';sample='python3.sample';line=6;break;case 6:case 27:mode='ruby';sample='ruby.sample';line=4;break;case 7:mode='csharp';sample='csharp.sample';line=12;break;case 8:mode='scala';sample='scala.sample';line=12;break;case 9:case 29:mode='lua';sample='lua.sample';line=6;break;case 10:case 30:mode='javascript';sample='javascript.sample';line=9;break;case 12:mode='golang';sample='go.sample';line=14;break;case 13:mode='sql';sample='sql.sample';line=4;break;case 15:mode='java';sample='kotlin.sample';line=10;break;case 17:mode='haskell';sample='haskell.sample';line=5;break;case 18:mode='ocaml';sample='ocaml.sample';line=6;break;case 19:mode='pascal';sample='pascal.sample';line=5;break;case 22:mode='dart';sample='dart.sample';line=8;break;case 23:mode='r';sample='r.sample';line=8;break;case 24:mode='php';sample='php.sample';line=9;break;case 25:mode='swift';sample='swift.sample';line=8;break;case 26:mode='clojure';sample='clojure.sample';line=8;break;case 31:mode='rust';sample='rust.sample';line=8;break;default:mode='c_cpp';sample='c.sample';line=10;break;}
if($('#template').val()&&currentTemplate==editor.getSession().getValue()){$.get('https://www.beecrowd.com.br/judge/samples/'+sample,function(data){editor.getSession().setMode('ace/mode/'+mode);editor.getSession().setValue(data);editor.gotoLine(line);currentTemplate=data;});}else{editor.getSession().setMode('ace/mode/'+mode);}}